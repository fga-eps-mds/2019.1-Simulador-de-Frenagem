



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="https://cdn3.iconfinder.com/data/icons/auto-parts-icons/420/Car_Brakes-512.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.1.1">
    
    
      
        <title>Pipeline UnBrake, da alteração no código ao deploy - UnBrake</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.3020aac5.css">
      
      
    
    
      <script src="../../assets/javascripts/modernizr.01ccdecf.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
    
    
      
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#pipeline-unbrake-da-alteracao-no-codigo-ao-deploy" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../.." title="UnBrake" class="md-header-nav__button md-logo">
          
            <img src="https://image.flaticon.com/icons/svg/1672/1672606.svg" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              UnBrake
            </span>
            <span class="md-header-nav__topic">
              Pipeline UnBrake, da alteração no código ao deploy
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
        

  

<nav class="md-tabs md-tabs--active" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  <li class="md-tabs__item">
    
      <a href="../.." title="UnBrake" class="md-tabs__link">
        UnBrake
      </a>
    
  </li>

      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../designdocs/autenticao_junto_api_r1/" title="Designdocs" class="md-tabs__link">
          Designdocs
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../ferramentas-de-comunicação/" title="Devops" class="md-tabs__link md-tabs__link--active">
          Devops
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../documentos/VisualIdentity/" title="Documentos" class="md-tabs__link">
          Documentos
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../roadmaps/roadmap-papeis/" title="Roadmaps" class="md-tabs__link">
          Roadmaps
        </a>
      
    </li>
  

      
        
  
  
    
    
  
  
    <li class="md-tabs__item">
      
        <a href="../../sprints/sprint_0/Planejamento/" title="Sprints" class="md-tabs__link">
          Sprints
        </a>
      
    </li>
  

  

      
    </ul>
  </div>
</nav>
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../.." title="UnBrake" class="md-nav__button md-logo">
      
        <img src="https://image.flaticon.com/icons/svg/1672/1672606.svg" width="48" height="48">
      
    </a>
    UnBrake
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="UnBrake" class="md-nav__link">
      UnBrake
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../VisualIdentity/" title="Identidade Visual" class="md-nav__link">
      Identidade Visual
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../backlog/" title="Backlog" class="md-nav__link">
      Backlog
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../cenarios/" title="Cenários" class="md-nav__link">
      Cenários
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../diagrama-de-classe/" title="Diagrama de classe" class="md-nav__link">
      Diagrama de classe
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../estrutura-analitica-do-produto/" title="Estrutura analitica do produto" class="md-nav__link">
      Estrutura analitica do produto
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../plano-de-custo/" title="Plano de custo" class="md-nav__link">
      Plano de custo
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../riscos/" title="Riscos" class="md-nav__link">
      Riscos
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../termo-de-abertura/" title="Termo de abertura" class="md-nav__link">
      Termo de abertura
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-10" type="checkbox" id="nav-10">
    
    <label class="md-nav__link" for="nav-10">
      Designdocs
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-10">
        Designdocs
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../designdocs/autenticao_junto_api_r1/" title="Autenticao junto api r1" class="md-nav__link">
      Autenticao junto api r1
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../designdocs/comunicacao-mqtt/" title="Comunicacao mqtt" class="md-nav__link">
      Comunicacao mqtt
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../designdocs/graphql/" title="Graphql" class="md-nav__link">
      Graphql
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../designdocs/mudanca_tecnologia_grafico_realtime_react/" title="Mudanca tecnologia grafico realtime react" class="md-nav__link">
      Mudanca tecnologia grafico realtime react
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../designdocs/nao_implementar_consul_r1/" title="Nao implementar consul r1" class="md-nav__link">
      Nao implementar consul r1
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../designdocs/uso_socket_r1/" title="Uso socket r1" class="md-nav__link">
      Uso socket r1
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-11" type="checkbox" id="nav-11" checked>
    
    <label class="md-nav__link" for="nav-11">
      Devops
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-11">
        Devops
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../ferramentas-de-comunicação/" title="Ferramentas de Comunicação do Time" class="md-nav__link">
      Ferramentas de Comunicação do Time
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Pipeline UnBrake, da alteração no código ao deploy
      </label>
    
    <a href="./" title="Pipeline UnBrake, da alteração no código ao deploy" class="md-nav__link md-nav__link--active">
      Pipeline UnBrake, da alteração no código ao deploy
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#checagem-local" title="Checagem Local" class="md-nav__link">
    Checagem Local
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#quando-acontece" title="Quando acontece?" class="md-nav__link">
    Quando acontece?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#contexto" title="Contexto" class="md-nav__link">
    Contexto
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#proposta" title="Proposta" class="md-nav__link">
    Proposta
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#implementacao" title="Implementação" class="md-nav__link">
    Implementação
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#conclusao" title="Conclusão" class="md-nav__link">
    Conclusão
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ferramentas-utilizadas" title="Ferramentas utilizadas" class="md-nav__link">
    Ferramentas utilizadas
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#local-de-implementacao" title="Local de implementação" class="md-nav__link">
    Local de implementação
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#integracao-continua" title="Integração contínua" class="md-nav__link">
    Integração contínua
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#quando-acontece_1" title="Quando acontece?" class="md-nav__link">
    Quando acontece?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#contexto_1" title="Contexto" class="md-nav__link">
    Contexto
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#proposta_1" title="Proposta" class="md-nav__link">
    Proposta
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#implementacao_1" title="Implementação" class="md-nav__link">
    Implementação
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#conclusao_1" title="Conclusão" class="md-nav__link">
    Conclusão
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ferramentas-utilizadas_1" title="Ferramentas utilizadas" class="md-nav__link">
    Ferramentas utilizadas
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#local-de-implementacao_1" title="Local de implementação" class="md-nav__link">
    Local de implementação
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#revisao-de-codigo" title="Revisão de Código" class="md-nav__link">
    Revisão de Código
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#quando-acontece_2" title="Quando acontece?" class="md-nav__link">
    Quando acontece?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#contexto_2" title="Contexto" class="md-nav__link">
    Contexto
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#proposta_2" title="Proposta" class="md-nav__link">
    Proposta
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#implementacao_2" title="Implementação" class="md-nav__link">
    Implementação
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#conclusao_2" title="Conclusão" class="md-nav__link">
    Conclusão
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ferramentas-utilizadas_2" title="Ferramentas utilizadas" class="md-nav__link">
    Ferramentas utilizadas
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deploy-continuo" title="Deploy Contínuo" class="md-nav__link">
    Deploy Contínuo
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#quando-acontece_3" title="Quando acontece?" class="md-nav__link">
    Quando acontece?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#contexto_3" title="Contexto" class="md-nav__link">
    Contexto
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#proposta_3" title="Proposta" class="md-nav__link">
    Proposta
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#implementacao_3" title="Implementação" class="md-nav__link">
    Implementação
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#deploy-continuo-de-homologacao" title="Deploy contínuo de homologação" class="md-nav__link">
    Deploy contínuo de homologação
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#checagens-e-testes-de-desenvolvimento" title="Checagens e testes de desenvolvimento" class="md-nav__link">
    Checagens e testes de desenvolvimento
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#construir-ambiente-de-homologacao" title="Construir ambiente de homologação" class="md-nav__link">
    Construir ambiente de homologação
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deploy-das-imagens-de-homologacao" title="Deploy das imagens de homologação" class="md-nav__link">
    Deploy das imagens de homologação
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deploy-para-o-ambiente-de-homologacao" title="Deploy para o ambiente de homologação" class="md-nav__link">
    Deploy para o ambiente de homologação
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deploy-continuo-de-producao" title="Deploy contínuo de produção" class="md-nav__link">
    Deploy contínuo de produção
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#checagens-e-testes-de-desenvolvimento_1" title="Checagens e testes de desenvolvimento" class="md-nav__link">
    Checagens e testes de desenvolvimento
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deploy-para-o-ambiente-de-producao" title="Deploy para o ambiente de produção" class="md-nav__link">
    Deploy para o ambiente de produção
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#conclusao_3" title="Conclusão" class="md-nav__link">
    Conclusão
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ferramentas-utilizadas_3" title="Ferramentas utilizadas" class="md-nav__link">
    Ferramentas utilizadas
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-12" type="checkbox" id="nav-12">
    
    <label class="md-nav__link" for="nav-12">
      Documentos
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-12">
        Documentos
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../documentos/VisualIdentity/" title="Identidade Visual" class="md-nav__link">
      Identidade Visual
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../documentos/arquitetura/" title="Arquitetura" class="md-nav__link">
      Arquitetura
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../documentos/documento-de-visao/" title="Documento de Visão" class="md-nav__link">
      Documento de Visão
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../documentos/prototipo-do-projeto/" title="Protótipo" class="md-nav__link">
      Protótipo
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-13" type="checkbox" id="nav-13">
    
    <label class="md-nav__link" for="nav-13">
      Roadmaps
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-13">
        Roadmaps
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../roadmaps/roadmap-papeis/" title="Roadmap dos papéis por sprint" class="md-nav__link">
      Roadmap dos papéis por sprint
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../roadmaps/roadmap_arquitetura/" title="Roadmap arquitetura" class="md-nav__link">
      Roadmap arquitetura
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-14" type="checkbox" id="nav-14">
    
    <label class="md-nav__link" for="nav-14">
      Sprints
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-14">
        Sprints
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-14-1" type="checkbox" id="nav-14-1">
    
    <label class="md-nav__link" for="nav-14-1">
      Sprint 0
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-14-1">
        Sprint 0
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../sprints/sprint_0/Planejamento/" title="Planejamento da Sprint 0" class="md-nav__link">
      Planejamento da Sprint 0
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sprints/sprint_0/Resultados/" title="Resultados da sprint 0" class="md-nav__link">
      Resultados da sprint 0
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-14-2" type="checkbox" id="nav-14-2">
    
    <label class="md-nav__link" for="nav-14-2">
      Sprint 1
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-14-2">
        Sprint 1
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../sprints/sprint_1/Planejamento/" title="Planejamento da Sprint 1" class="md-nav__link">
      Planejamento da Sprint 1
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sprints/sprint_1/Resultados/" title="Resultados da Sprint 1" class="md-nav__link">
      Resultados da Sprint 1
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-14-3" type="checkbox" id="nav-14-3">
    
    <label class="md-nav__link" for="nav-14-3">
      Sprint 2
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-14-3">
        Sprint 2
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../sprints/sprint_2/Planejamento/" title="Planejamento da Sprint 2" class="md-nav__link">
      Planejamento da Sprint 2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sprints/sprint_2/Resultados/" title="Resultados da Sprint 2" class="md-nav__link">
      Resultados da Sprint 2
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-14-4" type="checkbox" id="nav-14-4">
    
    <label class="md-nav__link" for="nav-14-4">
      Sprint 3
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-14-4">
        Sprint 3
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../sprints/sprint_3/Planejamento/" title="Planejamento da Sprint 3" class="md-nav__link">
      Planejamento da Sprint 3
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sprints/sprint_3/Resultados/" title="Resultados da Sprint 3" class="md-nav__link">
      Resultados da Sprint 3
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-14-5" type="checkbox" id="nav-14-5">
    
    <label class="md-nav__link" for="nav-14-5">
      Sprint 4
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-14-5">
        Sprint 4
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../sprints/sprint_4/Planejamento/" title="Planejamento da Sprint 4" class="md-nav__link">
      Planejamento da Sprint 4
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sprints/sprint_4/Resultados/" title="Resultados da Sprint 4" class="md-nav__link">
      Resultados da Sprint 4
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-14-6" type="checkbox" id="nav-14-6">
    
    <label class="md-nav__link" for="nav-14-6">
      Sprint 5
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-14-6">
        Sprint 5
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../sprints/sprint_5/Planejamento/" title="Planejamento da Sprint 5" class="md-nav__link">
      Planejamento da Sprint 5
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sprints/sprint_5/Resultados/" title="Resultados da Sprint 5" class="md-nav__link">
      Resultados da Sprint 5
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-14-7" type="checkbox" id="nav-14-7">
    
    <label class="md-nav__link" for="nav-14-7">
      Sprint 6
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-14-7">
        Sprint 6
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../sprints/sprint_6/Planejamento/" title="Planejamento da Sprint 6" class="md-nav__link">
      Planejamento da Sprint 6
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sprints/sprint_6/Resultados/" title="Resultados da Sprint 6" class="md-nav__link">
      Resultados da Sprint 6
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-14-8" type="checkbox" id="nav-14-8">
    
    <label class="md-nav__link" for="nav-14-8">
      Sprint 7
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-14-8">
        Sprint 7
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../sprints/sprint_7/Planejamento/" title="Planejamento da Sprint 7" class="md-nav__link">
      Planejamento da Sprint 7
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sprints/sprint_7/Resultados/" title="Resultados da Sprint 7" class="md-nav__link">
      Resultados da Sprint 7
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-14-9" type="checkbox" id="nav-14-9">
    
    <label class="md-nav__link" for="nav-14-9">
      Sprint 8
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-14-9">
        Sprint 8
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../sprints/sprint_8/Planejamento/" title="Planejamento da Sprint 8" class="md-nav__link">
      Planejamento da Sprint 8
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sprints/sprint_8/Resultados/" title="Resultados da Sprint 8" class="md-nav__link">
      Resultados da Sprint 8
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-14-10" type="checkbox" id="nav-14-10">
    
    <label class="md-nav__link" for="nav-14-10">
      Sprint 9
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-14-10">
        Sprint 9
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../sprints/sprint_9/Planejamento/" title="Planejamento da Sprint 9" class="md-nav__link">
      Planejamento da Sprint 9
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sprints/sprint_9/Resultados/" title="Resultados da Sprint 9" class="md-nav__link">
      Resultados da Sprint 9
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-14-11" type="checkbox" id="nav-14-11">
    
    <label class="md-nav__link" for="nav-14-11">
      Sprint  10
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-14-11">
        Sprint  10
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../sprints/sprint__10/Planejamento/" title="Planejamento da Sprint 10" class="md-nav__link">
      Planejamento da Sprint 10
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sprints/sprint__10/Resultados/" title="Resultados da Sprint 10" class="md-nav__link">
      Resultados da Sprint 10
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-14-12" type="checkbox" id="nav-14-12">
    
    <label class="md-nav__link" for="nav-14-12">
      Sprint  11
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-14-12">
        Sprint  11
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../sprints/sprint__11/Planejamento/" title="Planejamento da Sprint 11" class="md-nav__link">
      Planejamento da Sprint 11
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sprints/sprint__11/Resultados/" title="Resultados da Sprint 11" class="md-nav__link">
      Resultados da Sprint 11
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#checagem-local" title="Checagem Local" class="md-nav__link">
    Checagem Local
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#quando-acontece" title="Quando acontece?" class="md-nav__link">
    Quando acontece?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#contexto" title="Contexto" class="md-nav__link">
    Contexto
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#proposta" title="Proposta" class="md-nav__link">
    Proposta
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#implementacao" title="Implementação" class="md-nav__link">
    Implementação
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#conclusao" title="Conclusão" class="md-nav__link">
    Conclusão
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ferramentas-utilizadas" title="Ferramentas utilizadas" class="md-nav__link">
    Ferramentas utilizadas
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#local-de-implementacao" title="Local de implementação" class="md-nav__link">
    Local de implementação
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#integracao-continua" title="Integração contínua" class="md-nav__link">
    Integração contínua
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#quando-acontece_1" title="Quando acontece?" class="md-nav__link">
    Quando acontece?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#contexto_1" title="Contexto" class="md-nav__link">
    Contexto
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#proposta_1" title="Proposta" class="md-nav__link">
    Proposta
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#implementacao_1" title="Implementação" class="md-nav__link">
    Implementação
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#conclusao_1" title="Conclusão" class="md-nav__link">
    Conclusão
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ferramentas-utilizadas_1" title="Ferramentas utilizadas" class="md-nav__link">
    Ferramentas utilizadas
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#local-de-implementacao_1" title="Local de implementação" class="md-nav__link">
    Local de implementação
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#revisao-de-codigo" title="Revisão de Código" class="md-nav__link">
    Revisão de Código
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#quando-acontece_2" title="Quando acontece?" class="md-nav__link">
    Quando acontece?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#contexto_2" title="Contexto" class="md-nav__link">
    Contexto
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#proposta_2" title="Proposta" class="md-nav__link">
    Proposta
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#implementacao_2" title="Implementação" class="md-nav__link">
    Implementação
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#conclusao_2" title="Conclusão" class="md-nav__link">
    Conclusão
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ferramentas-utilizadas_2" title="Ferramentas utilizadas" class="md-nav__link">
    Ferramentas utilizadas
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deploy-continuo" title="Deploy Contínuo" class="md-nav__link">
    Deploy Contínuo
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#quando-acontece_3" title="Quando acontece?" class="md-nav__link">
    Quando acontece?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#contexto_3" title="Contexto" class="md-nav__link">
    Contexto
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#proposta_3" title="Proposta" class="md-nav__link">
    Proposta
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#implementacao_3" title="Implementação" class="md-nav__link">
    Implementação
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#deploy-continuo-de-homologacao" title="Deploy contínuo de homologação" class="md-nav__link">
    Deploy contínuo de homologação
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#checagens-e-testes-de-desenvolvimento" title="Checagens e testes de desenvolvimento" class="md-nav__link">
    Checagens e testes de desenvolvimento
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#construir-ambiente-de-homologacao" title="Construir ambiente de homologação" class="md-nav__link">
    Construir ambiente de homologação
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deploy-das-imagens-de-homologacao" title="Deploy das imagens de homologação" class="md-nav__link">
    Deploy das imagens de homologação
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deploy-para-o-ambiente-de-homologacao" title="Deploy para o ambiente de homologação" class="md-nav__link">
    Deploy para o ambiente de homologação
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deploy-continuo-de-producao" title="Deploy contínuo de produção" class="md-nav__link">
    Deploy contínuo de produção
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#checagens-e-testes-de-desenvolvimento_1" title="Checagens e testes de desenvolvimento" class="md-nav__link">
    Checagens e testes de desenvolvimento
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deploy-para-o-ambiente-de-producao" title="Deploy para o ambiente de produção" class="md-nav__link">
    Deploy para o ambiente de produção
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#conclusao_3" title="Conclusão" class="md-nav__link">
    Conclusão
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ferramentas-utilizadas_3" title="Ferramentas utilizadas" class="md-nav__link">
    Ferramentas utilizadas
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="pipeline-unbrake-da-alteracao-no-codigo-ao-deploy">Pipeline UnBrake, da alteração no código ao deploy</h1>
<p>Essa página tem o objetivo de esclarecer o funcionamento de todo o fluxo de desenvolvimento e CI/CD da UnBrake.</p>
<h2 id="checagem-local">Checagem Local</h2>
<h3 id="quando-acontece">Quando acontece?</h3>
<p>Sempre ao se tentar criar um commit ou dar um push para repositório do projeto.</p>
<h3 id="contexto">Contexto</h3>
<p>Em muitas pipelines de desenvolvimento a preocupação começa a partir do momento que o commit do desenvolvedor está no remoto, online, para a avaliação dos colegas.
Mas no desenvolvimento dessa pipeline eu resolvi fazer um pouco diferente.</p>
<p>O nosso time de desenvolvimento é composto em sua maioria por desenvolvedores inexperientes e que que ainda não tem um bom conhecimento sobre boas práticas de
programação no sentido do que as comunidades adotam. Para piorar a situação ainda estão tendo que trabalhar com linguagens e frameworks que não conhecem.</p>
<h3 id="proposta">Proposta</h3>
<p>Tendo isso em vista, resolvemos fazer a tentativa de impor as boas regras da comunidade já desde o desenvolvimento local, através de ferramentas de análise estática.
Elas foram integradas de forma em que ao invés do desenvolvedor ser alertado apenas por meio de uma build de CI que quebrou, ele fosse alertado já localmente, automaticamente,
sem a necessidade de execução manual de scripts ou configuração de ambiente.</p>
<h3 id="implementacao">Implementação</h3>
<p>Essa solução foi implementada através de git hooks, ferramentas associadas e algum bash script. O resultado foi um mecanismo em que os git hooks são instalados localmente, automaticamente
da primeira vez em que o desenvolvedor sobe o ambiente de desenvolvimento do frontend (porque foi o primeiro a ser implementado).</p>
<p>Uma vez instalados os git hooks, toda vez em que o desenvolvedor der um <code>git commit</code>, serão executadas várias checagens, correspondentes a linguagem, apenas nos arquivos alterados. Caso a checagem falhe, é solicitado que o desenvolvedor corriga os problemas
e tente novamente. Outro git hook utilizado é o <code>pre-push</code>, no momento do commit, apenas linters e formatadores são executados e no push apenas os testes.</p>
<p>Tudo foi implementado dockerizado e não requer nenhuma configuração adicional por parte do desenvolvedor.</p>
<h3 id="conclusao">Conclusão</h3>
<p>Naturalmente essa abordagem também traz desvantagens, a frustração inicial dos desenvolvedores e o baixo redimento inicial.</p>
<p>Porém, estamos apostando que é que com isso teremos, relativamente cedo, na equipe de desenvolvimento uma maturidade maior com relação as boas práticas da comunidade e
também de evitar o famoso fluxo de desenvolvimento de desenvolver a funcionalidade e só depois enviar vários commits de correção para que a build passe no momento do PR, ou seja, as boas práticas não são incorporadas.</p>
<h3 id="ferramentas-utilizadas">Ferramentas utilizadas</h3>
<table>
<thead>
<tr>
<th align="center">Ferramenta</th>
<th align="left">Módulo</th>
<th align="left">Objetivo</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><a href="https://eslint.org/">Eslint</a></td>
<td align="left">Frontend</td>
<td align="left">Famoso linter e que também checa estilo do código</td>
</tr>
<tr>
<td align="center"><a href="https://prettier.io/">Prettier</a></td>
<td align="left">Frontend</td>
<td align="left">Estilizador de código para unificação da folha de estilo</td>
</tr>
<tr>
<td align="center"><a href="https://github.com/typicode/husky">Husky</a></td>
<td align="left">Frontend</td>
<td align="left">Gerar git hooks a partir de scripts simples no package.json</td>
</tr>
<tr>
<td align="center"><a href="https://github.com/okonet/lint-staged">Lint staged</a></td>
<td align="left">Frontend</td>
<td align="left">Útil para aplicar uma ação apenas nos arquivos que estão sendo comitados</td>
</tr>
<tr>
<td align="center"><a href="https://jestjs.io/">Jest</a></td>
<td align="left">Frontend</td>
<td align="left">Testes e coleta de cobertura</td>
</tr>
<tr>
<td align="center"><a href="https://www.pylint.org/">Pylint</a></td>
<td align="left">API</td>
<td align="left">Linter e checagens em geral</td>
</tr>
<tr>
<td align="center"><a href="https://flake8.pycqa.org/en/latest/">Flake8</a></td>
<td align="left">API</td>
<td align="left">Folha de estilo e algumas checagens extras</td>
</tr>
<tr>
<td align="center"><a href="https://pypi.org/project/autopep8/">Autopep8</a></td>
<td align="left">API</td>
<td align="left">Auto correção de estilo</td>
</tr>
<tr>
<td align="center"><a href="https://docs.pytest.org/en/latest/">Pytest</a></td>
<td align="left">API</td>
<td align="left">Framework de testes</td>
</tr>
<tr>
<td align="center"><a href="https://coverage.readthedocs.io/en/v4.5.x/">Coverage</a></td>
<td align="left">API</td>
<td align="left">Coleta de cobertura de testes</td>
</tr>
<tr>
<td align="center"><a href="https://www.docker.com/">Docker</a></td>
<td align="left">Frontend/API</td>
<td align="left">Todas as ferramentas rodam em containers</td>
</tr>
</tbody>
</table>
<h3 id="local-de-implementacao">Local de implementação</h3>
<p>Os script estão implementados dentro da pasta <code>script</code> dentro da pasta de cada módulo e os hooks nas pasta <code>hooks</code> também dentro de cada módulo.
Além disso, vários arquivos de configuração tiveram que ser adequados as necessidades do projeto: .eslintrc.json, .prettierrc, package.json, Dockerfile, docker-compose.yml, .flake8, .pylintrc, .coveragerc e pytest.ini</p>
<h2 id="integracao-continua">Integração contínua</h2>
<h3 id="quando-acontece_1">Quando acontece?</h3>
<p>A cada push ao repositório, é avaliado o último commit do push. Também acontece ao se criar um Pull Request e após seu aceite, na branch de destino (base).</p>
<h3 id="contexto_1">Contexto</h3>
<p>Mesmo com as checagens locais fortes, ainda são necessárias as checagens numa Integração Contínua. As checagens locais estão fortes mas ainda há casos em que
um desenvolvedor ignore a verificação (os próprios git hooks dão recurso a isso) por motivo de pressa ou para compatilhar o código para pedir ajuda, por exemplo.
Também há o caso do docker do usuário estar quebrado ou algo do tipo.</p>
<h3 id="proposta_1">Proposta</h3>
<p>Como ferramenta de CI escolhemos o Travis porque que já é uma ferramenta popular na disciplina, além de outros fatores que estão mapeados em issues.</p>
<h3 id="implementacao_1">Implementação</h3>
<p>Na fase de checagem local foram criados scripts pra checar cada aspecto, além de alguns que agregavam outros. Com esses scripts prontos, na parte da integração
contínua pode-se só integrá-los. Assim a mesma checagem que foi feita local também é feita na CI, porém agora em todos arquivos, e não só nos que foram 
alterados no último commit.</p>
<p>Além das checagens locais, no ambiente de CI também são avaliadas algumas checkagens a mais, dessa vez checagens que não são completamentamente mandatórias,
e o Scrum Master tem liberdade para escolher se é razoavel pra o time manter aqueles erros ou não.</p>
<p>Essas checagens são realizadas pelo CodeClimate, que avalia o código e retorna várias métricas ao analizar coisas não analizadas antes, como complexidade
cognitivia, complexidade assintótíca e duplicação de código. Com isso é possível se ter uma noção do nível de manutenabilidade do código, um insumo
importante para decisões de projeto.</p>
<h3 id="conclusao_1">Conclusão</h3>
<p>Então ao executar algumas checagens redundantes e outras inéditas, a Integração Contínua se torna uma importante ferramenta tanto para apontar correções
que tem que ser feitas imediatamente no código como coletar métricas e gerar registros que vão servir de insumos para decisões de projeto posteriormente.</p>
<h3 id="ferramentas-utilizadas_1">Ferramentas utilizadas</h3>
<table>
<thead>
<tr>
<th align="center">Ferramenta</th>
<th align="left">Módulo</th>
<th align="left">Objetivo</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><a href="https://travis-ci.com/">Travis CI</a></td>
<td align="left">Frontend/API</td>
<td align="left">Ferramenta de CI utilizada pelo time, grátis para projetos open source</td>
</tr>
<tr>
<td align="center"><a href="https://pullreminders.com/">Pull reminders</a></td>
<td align="left">Frontend/API</td>
<td align="left">Estilizador de código para unificação da folha de estilo</td>
</tr>
<tr>
<td align="center"><a href="https://codeclimate.com/">CodeClimate</a></td>
<td align="left">Frontend/API</td>
<td align="left">Gerar git hooks a partir de scripts simples no package.json</td>
</tr>
<tr>
<td align="center"><a href="https://github.com/codeclimate/sonar-python">Sonary Python (codeclimate)</a></td>
<td align="left">Frontend</td>
<td align="left">Detecta erros em geral em código python</td>
</tr>
<tr>
<td align="center"><a href="https://docs.codeclimate.com/docs/markdownlint">Markdownlint (codeclimate)</a></td>
<td align="left">Frontend</td>
<td align="left">Linter para markdown, avalia aplicação de boas práticas em geral</td>
</tr>
<tr>
<td align="center"><a href="https://docs.codeclimate.com/docs/nodesecurity">Nodesecurity (codeclimate)</a></td>
<td align="left">Frontend</td>
<td align="left">Checa por erros de segurança nas dependências do node</td>
</tr>
<tr>
<td align="center"><a href="https://docs.codeclimate.com/docs/radon">Radon (codeclimate)</a></td>
<td align="left">API</td>
<td align="left">Avalia complexidade de código</td>
</tr>
<tr>
<td align="center"><a href="https://docs.codeclimate.com/docs/fixme">Fixme (codeclimate)</a></td>
<td align="left">Frontend/API</td>
<td align="left">Procura por coisas tipo FIXME no código</td>
</tr>
<tr>
<td align="center"><a href="https://docs.codeclimate.com/docs/git-legal">Git Legal (codeclimate)</a></td>
<td align="left">Frontend/API</td>
<td align="left">Alerta sobre possíveis erros de licença incompatíveis entre o projeto e as dependências</td>
</tr>
<tr>
<td align="center"><a href="https://github.com/codeclimate/codeclimate-duplication">Duplication (codeclimate)</a></td>
<td align="left">Frontend/API</td>
<td align="left">Detecta erros de duplicação no código</td>
</tr>
</tbody>
</table>
<p>O (codeclimate) indica que a ferramenta foi integrada como plugin de checagem do codeclimate.</p>
<h3 id="local-de-implementacao_1">Local de implementação</h3>
<p>Não houve implementação de scripts, apenas calibração de arquivos de configuração. Principais arquivos relacionados: .travis.yml, .codeclimate.yml</p>
<h2 id="revisao-de-codigo">Revisão de Código</h2>
<h3 id="quando-acontece_2">Quando acontece?</h3>
<p>Antes de se aceitar um Pull Request</p>
<h3 id="contexto_2">Contexto</h3>
<p>Esse é o único passo em que tem haver a intervenção de outro membro do time. A ideia é que nessa etapa, que acontece após muitas checagens de ferramenta.
Seja possível identificar problemas que apenas outro desenvolvedor identificaria, como nomes sem sentido, lógica errada, uso de bibliotecas desnecessárias, etc.</p>
<h3 id="proposta_2">Proposta</h3>
<p>Essa etapa é obrigatória ao aceite do PR, é exigido que pelo menos uma outra pessoa do time avalie seu PR, regra que também vale para os gestores. Não há merge
sem alguém dizer que o código está ok.</p>
<h3 id="implementacao_2">Implementação</h3>
<p>Essa regra foi implementada simplismente editando-se as configurações de branch do repositório no Github.</p>
<h3 id="conclusao_2">Conclusão</h3>
<p>Essa etapa tem se mostrado de grande valor a equipe, e quase todas as vezes em que aplicada corretamente econtram-se alguns erros que não se não fossem
corrigidos no momento se tornariam grandes problemas posteriormente.</p>
<h3 id="ferramentas-utilizadas_2">Ferramentas utilizadas</h3>
<table>
<thead>
<tr>
<th align="center">Ferramenta</th>
<th align="left">Módulo</th>
<th align="left">Objetivo</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><a href="https://github.com/">Github</a></td>
<td align="left">Frontend/API</td>
<td align="left">Ferramenta de versionamento de código (dentre outros)</td>
</tr>
</tbody>
</table>
<h2 id="deploy-continuo">Deploy Contínuo</h2>
<h3 id="quando-acontece_3">Quando acontece?</h3>
<p>Após merges na devel ou na master.</p>
<h3 id="contexto_3">Contexto</h3>
<p>Ao se fazer uma alteração no código, é desejável que ela esteja o quanto antes em ambiente de produção para que possa ser validada por todo mundo e
logo que validada, em ambiente de produção para que falhas sejam encontradas e corrigidas o quanto antes.</p>
<h3 id="proposta_3">Proposta</h3>
<p>A ideia é que em cada pull request aceito na devel e a build passe, logo após a build terminar o ambiente de homologação seja atualizado (análogo a master e ambiente de produção),
mas com isso surgiram alguns desafios, alguns relacionados ao ambiente e outros de segurança.</p>
<p>Foi decidido que inicialmente seria feito o deploy apenas em um host remoto, sem processamento distribuído. Isso se deve a que primeiro temos que validar se os containers de produção estão se comportando
corretamente, ajustar configurações de servidor e de banco e validar vários outros pontos que são mais fáceis de serem validados apenas em um computador.</p>
<p>Também inicialmente ainda SSL implementado em nenhum dos ambientes, o que é uma falha que deve ser corrigida o quanto antes, dado que nosso software possui autenticação de usuário. Mas assim como no ponto
anterior, a ideia é que a parte básica esteja estável o mais rápido possível e a partir dessa baseline iremos tornar o ambiente mais robusto.</p>
<h3 id="implementacao_3">Implementação</h3>
<p>Foram reservados "droplets" na nuvem DigitalOcean separadas, uma para o ambiente de proudução e outra para o ambiente de homologação. Também foram reservador domínios DNS gratuitos, um para cada ambiente,
são eles: unbrake-hom.ml e unbrake.ml.</p>
<p>As droplets contratadas são bem básicas, possuem poucos recursos como apenas 1GB de RAM para testes iniciais e não são capazes de construir a imagem do docker do frontend, por exemplo. Então foi resolvido
que as imagens seriam construídas em outro ambiente e depois só baixadas e executadas na droplet, o que funcionou bem.</p>
<p>As imagens são construídas no ambiente do Travis e enviadas para o Dockerhub, o registry que escolhemos, a cada que é necessário. Foram escritos scripts que, unidos ao docker-compose, conseguem a partir
dessas imagens, pedir para a droplet atualiar seu deploy, via SSH. Para isso foi gerada uma chave do exclusiva para o Travis fazer o deploy nas droplets, isso facilita sua revogação em caso de vazamento
e perceber que foi ela que vazou.</p>
<h4 id="deploy-continuo-de-homologacao">Deploy contínuo de homologação</h4>
<p>Numa build em que será realizado um deploy homologação (foi aceito um PR na devel) a build, atualmente, irá executar os seguintes passos:</p>
<h5 id="checagens-e-testes-de-desenvolvimento">Checagens e testes de desenvolvimento</h5>
<p>Irá rodar as ferramentas de checagem e da mesma forma como acontece no ambiente local do desenvolvedor, executar os testes e coletar a cobertura.</p>
<h5 id="construir-ambiente-de-homologacao">Construir ambiente de homologação</h5>
<p>Irá construir as imagens (do Docker) de homologação</p>
<h5 id="deploy-das-imagens-de-homologacao">Deploy das imagens de homologação</h5>
<p>Envia as imagens construídas de homologação para o Dockerhub com tag específica.</p>
<h5 id="deploy-para-o-ambiente-de-homologacao">Deploy para o ambiente de homologação</h5>
<p>Irá pedir para o droplet de homologação apagar as imagens desatualizadas e subir os serviços novamente baseado nas imagens atualizadas.</p>
<h4 id="deploy-continuo-de-producao">Deploy contínuo de produção</h4>
<p>Numa build em que será realizado um deploy produção (foi aceito um PR na master) a build, atualmente, irá executar os seguintes passos:</p>
<h5 id="checagens-e-testes-de-desenvolvimento_1">Checagens e testes de desenvolvimento</h5>
<p>Mesma coisa da build da homologação.</p>
<h5 id="deploy-para-o-ambiente-de-producao">Deploy para o ambiente de produção</h5>
<p>Aqui não é necessário construir imagens como na build de homologação, porque a master só recebe alterações da devel. Então inevitavelmente o ambiente 
de produção será atualizado baseado na imagem mais recente de homologação (último build que aconteceu na devel).</p>
<p>Então, aqui serão baixadas as imagens de homologação mais recentes de cada um dos módulos, elas receberão uma nova tab, de produção, e serão enviadas
ao Dockerhub como imagens de produção. Por fim, a droplet se apagará as imagens antigas de produção e subirá o serviço utilizando as novas imagens.</p>
<h3 id="conclusao_3">Conclusão</h3>
<p>Até o momento essa estratégia funcionou bem, apesar de que muitos aspectos de produção ainda não são tratados, como conexão encriptada, balanceamento
de carga, helthy checking, etc.</p>
<p>Mas apesar disso, os ambientes de produção e homologação estão funcionando e com deploy contínuo (!).</p>
<h3 id="ferramentas-utilizadas_3">Ferramentas utilizadas</h3>
<table>
<thead>
<tr>
<th align="center">Ferramenta</th>
<th align="left">Módulo</th>
<th align="left">Objetivo</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><a href="https://travis-ci.com/">Travis CI</a></td>
<td align="left">Frontend/API</td>
<td align="left">Ferramenta de CI utilizada pelo time, grátis para projetos open source</td>
</tr>
<tr>
<td align="center"><a href="https://www.docker.com/products/docker-hub">Dockerhub</a></td>
<td align="left">Frontend/API</td>
<td align="left">Registry de imagens do docker</td>
</tr>
<tr>
<td align="center"><a href="https://www.digitalocean.com/">DigitalOcean</a></td>
<td align="left">Frontend/API</td>
<td align="left">Plataforma de computação em nuvem</td>
</tr>
</tbody>
</table>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../ferramentas-de-comunicação/" title="Ferramentas de Comunicação do Time" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Ferramentas de Comunicação do Time
              </span>
            </div>
          </a>
        
        
          <a href="../../documentos/VisualIdentity/" title="Identidade Visual" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Identidade Visual
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.dc02f8ce.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"../.."}})</script>
      
    
  </body>
</html>